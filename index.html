<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>VPN Health Status</title>
  <style>
    body { font-family: sans-serif; background:#fafafa; color:#333; padding:1rem; }
    h1 { text-align:center; color:#2c3e50; }
    dl { max-width:400px; margin:1rem auto; background:#fff; padding:1rem; border-radius:5px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    dt { font-weight:bold; margin-top:1rem; }
    dd { margin:0 0 1rem 1rem; }
    .status-success { color:green; }
    .status-vpn_failed, .status-roundcube_failed { color:red; }
  </style>
</head>
<body>
  <h1>VPN Health Check</h1>
  <dl id="status-list">
    <dt>Loading...</dt>
  </dl>

  <script>
    fetch('data.json')
      .then(res => {
        if(!res.ok) throw new Error(res.status);
        return res.json();
      })
      .then(data => {
        const dl = document.getElementById('status-list');
        dl.innerHTML = '';

        const addItem = (key, val) => {
          const dt = document.createElement('dt');
          dt.textContent = key.replace('_',' ');
          const dd = document.createElement('dd');
          dd.textContent = val;
          dd.className = 'status-' + (val || '').toString().toLowerCase();
          dl.append(dt, dd);
        };

        Object.entries(data).forEach(([k,v]) => addItem(k, v));
      })
      .catch(err => {
        document.getElementById('status-list').innerHTML = `<dt style="color:red;">Error loading data: ${err}</dt>`;
      });
  </script>
</body>
</html>
